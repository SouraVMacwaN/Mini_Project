#include <stdio.h>
#include<graphics.h>
#include<conio.h>
void ball();
void lines();
void lines()
{
  setcolor(3);
  //vertical lines

  line(5,330,5,100);
  line(5,370,5,420);
  line(130,290,130,370);
  line(70,225,70,155);
  line(130,100,130,170);
  line(280,370,280,180);
  line(330,180,330,290);
  line(420,290,420,420);
  line(420,100,420,250);
  line(205,225,205,300);
  line(330,420,330,350);
  //horizontal lines

  line(5,100,420,100);
  line(330,350,370,350);
  line(420,200,380,200);
  line(5,330,70,330);
  line(5,370,70,370);
  line(70,290,130,290);
  line(5,225,205,225);
  line(130,370,280,370);
  line(280,180,330,180);
  line(330,290,420,290);
  line(420,420,5,420);
  setcolor(WHITE);
  }
void ball(int j,int k,int l)
{
    circle(j,k,l);
    setcolor(CYAN);
    setfillstyle(SOLID_FILL,14);
    floodfill(j,k,WHITE);

}
int condition(int j,int k)
{
                                                               //vertical lines

  if(j== 10 && k >= 100 && k <= 330){return 1;}
  if(j== 10 && k >= 370 && k <= 420){return 1;}
  if(k >= 290 && k <= 370){
	if(j == 125 || j == 135) return 1;
  }
  if(k >= 155 && k <= 225){
  if(j== 65 || j == 75)return 1;
  }
  if(k >= 100 && k <= 170){
  if(j == 135 || j == 125)return 1;
  }
  if(k >= 180 && k <= 370){
    if(j == 285 || j == 275)return 1;
    }
  if(k >= 180 && k <= 290){
    if(j == 335 || j == 325)return 1;
    }
  if(j== 415 && k >= 290 && k <= 420){return 1;}
  if(j== 415 && k >= 100 && k <= 250){return 1;}
  if(k >= 225 && k <= 300){
    if(j == 210 || j == 200)return 1;
    }
  if(k >= 350 && k <= 420){
    if(j == 335 || j == 325)return 1;}

                                                            //horizontal lines

  if(j>=5 && j<=420){
    if(k == 95 || k == 105)return 1;
  }
  if(j>=330 && j<=370){
    if(k == 355 || k == 345)return 1;
  }
  if(j>380 && j<=420){
    if(k == 205 || k == 195)return 1;
  }
  if(j>=5 && j<=70){
    if(k == 335 || k == 325)return 1;
  }
  if(j>=5 && j<=70){
    if(k == 375 || k == 365)return 1;
  }
  if(j>=70 && j<=130){
    if(k == 295 || k == 285)return 1;
  }
  if(j>=5 && j<=205){
    if(k == 230 || k == 220)return 1;
  }
  if(j>=130 && j<=280){
    if(k == 375 || k == 365)return 1;
  }
  if(j>=280 && j<=330){
    if(k == 175 || k == 185)return 1;
  }
  if(j>=330 && j<=420){
    if(k == 295 || k == 285)return 1;
  }
  if(j>=5 && j<=420){
    if(k == 420 )return 1;
  }
  return 0;
}

void backend()
{
int j=20,k=350,l=5;
 char c;
 cleardevice();
 lines();
 ball(j,k,l);

 while(2>1)
 {
  if(condition(j,k) == 1){break;}
c=getch();
cleardevice();
 if(c=='a') j-=5;
 if(c=='s') k+=5;
 if(c=='d') j+=5;
 if(c=='w') k-=5;
 if(c==' ') break;

lines();
ball(j,k,l);
 }
}
void main()
{

    int d=DETECT,g;
    initgraph(&d,&g,"C:\\TURBOC3\\BGI");
       backend();



    getch();
    closegraph();
}
